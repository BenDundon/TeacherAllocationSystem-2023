<!DOCTYPE html>
<html>
  @!component('components.head', title="Teacher Allocation System")
  @!component('components.header')
  <body>
  {{--  Warning Message for Unallocated units  --}}
    <div>
      @if(unitsUnalloc)
        @!component('components.unallocatedwarning', unitsUnalloc=unitsUnalloc)
      @endif
    </div>
  {{--  Title, Search Bar--}}
    <section class="section">
      <div class="container">
        <div class="section is-small">
          <div class="level">
            <div class="container">
              <h1 class="title">Allocations</h1>
              <h2 class="subtitle">Add and Search for Allocations</h2>
            </div>
          </div>
        </div>
        <div class="section">
          @!component('components.searchbar', title="Find allocation")
        </div>
        {{--  Edit button  --}}
        <div class="tab">
          <button class="button is-primary" onclick="EditMode(event,'editMode')">Edit</button>
        </div>
        {{-- Display Allocations --}}
        <div id="display" class="tabcontent">
          @!component('components.displayallocations', allocAcademics=allocAcademics)
        </div>
        <div id="editMode" class="tabcontent">
          @!component('components.editallocations', allocAcademics=allocAcademics)
        </div>
        {{--  Edit Script  --}}
          <script>
            function EditMode(evt, mode) {
              // Declare all variables
              var i, tabcontent, tablinks;

              // Get all elements with class="tabcontent" and hide them
              tabcontent = document.getElementsByClassName("tabcontent");
              for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
              }

              // Get all elements with class="tablinks" and remove the class "active"
              tablinks = document.getElementsByClassName("tablinks");
              for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
              }

              // Show the current tab, and add an "active" class to the button that opened the tab
              document.getElementById(mode).style.display = "block";
              evt.currentTarget.className += " active";
              }           
           </script>
    <section>
  </body>
  @include('partials.footer')
</html> 